<!doctype html>
<html>
<head>
<script src="https://unpkg.com/jquery/dist/jquery.min.js"></script>
<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<script>
  $().ready(function() {
    window.graph = new vis.Network($('#graph')[0], {}, {});
    getGraph();
    setInterval(getGraph, 15000);
  });
  function getGraph() {
    jQuery.post('/rpc', { req: 'graph' }, renderGraph, 'json');
  }
  function renderGraph(data) {
    let nodes = new vis.DataSet(data.nodes);
    let edges = new vis.DataSet(data.edges);
    graph.setData({ nodes: nodes, edges: edges });
  }
</script>
<style>
BODY { margin: 0; }
#graph {
  width: 100vw;
  height: 100vh;
}
</style>
</head>
<body>
<div id="graph"></div>
</body>
</html>
